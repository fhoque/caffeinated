<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<script src="http://code.jquery.com/jquery-1.8.2.js"></script>
<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
<style>
#container {
    width: 960px;
    margin: 0 auto;
    border: black solid 8px;
    margin: 6px;
}

#primary {
    float: left;
    width: 240px;
}

#content {
    float: left;
    width: 480px;
}

#secondary {
    float: left;
    width: 240px;
}

#footer {
    clear: both;
}
#filterArea{
	width: 400px;
	margin-left: 0 auto;
	margin-right: 0 auto;	
}
.center{
	width: 1000px;
	margin: 0 auto;
}
</style>
<script>
	var resultsList = [];

	function filterJson(){
		var letter =  $("#drinkTxt").val(); 
		var filteredDrinks = [];
		$.each(resultsList, function(idx, obj){
			if( obj.drinkName.toLowerCase().substring(0, letter.length) == letter.toLowerCase() ){
				filteredDrinks.push(obj);	
			}
		})

		var htmlString = 	'<div id="resultsList"> ' ;
		$.each(filteredDrinks, function(idx, obj){

			var equipString = "<h3>Equipment Needed</h3><ul>";
			$.each(obj.equip, function(idx, obj){
				equipString += '<li>'+obj+'</li>';
			})
			equipString += "</ul>";

			htmlString += 	'<div id="container" class="center">'+

							    '<div id="primary"> <img src="images/resultImgs/'+obj.drinkName+'.png" alt="'+obj.drinkName+'"> </div>'+
							    
							    '<div id="content"> <h3>Description</h3><p>'+obj.drinkName+' and description </p> </div>'+
							    
							    '<div id="secondary"> <p> '+equipString+' </p> </div>'+
							    
							    '<div id="footer"> <p></p> </div>'+
							'</div>'
			htmlString += '</div>';

			$("#resultsList").html( htmlString )
		})
	}

	$(document).ready(function(){
		$.ajaxSetup({ async : false} );
	    $.getJSON("drink-results.json", function(data){
	         $.each(data.results, function(idx, obj){ 
	         	resultsList.push(obj);
	         });
		});

	    $("#drinkTxt").keyup(filterJson);
	    filterJson("");
	})
</script>
</head>
<body>
	<div id="filterArea" class="center">
		<h2>Advanced Questionnaire</h2>	
			<label>Enter Drink Name: </label><input type="text" id="drinkTxt" />
	</div>
	<div> Equipment necessary
		<input name="your_name" value="your_value" type="checkbox">
		<input name="your_name" value="your_value" type="checkbox">
		<input name="your_name" value="your_value" type="checkbox">
	</div>
	<div id="resultsList" class="center"> </div>
</body>
</html>
